
{% extends 'products/base.html' %} 
{% load static %}
{% load custom_filters %}
<head>
    <style>
    
        @media (max-width: 768px) {
            #carouselExampleFade .carousel-item {
                height: 300px; /* Adjust the height as needed */
            }

            #carouselExampleFade .carousel-item img {
                height: 100%;
                object-fit: cover; /* Ensures the image covers the container */
            }
        }

        @media (max-width: 976px) {
            #carouselExampleFade .carousel-item {
                height: 250px; /* Adjust the height for smaller screens */
            }

            #carouselExampleFade .carousel-item img {
                height: 200%;
                object-fit: cover;
            }
        }
    </style>
</head>

{% block body %}
<!--SLIDES ON THE TOP OF THE PAGE-->
<div class="container-fluid p-0">
    <!-- SLIDE TOP PAGE -->
    <div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3000" data-bs-touch="true">
        <div class="carousel-inner">
            <div class="carousel-item active mb-3" data-bs-interval="3000">
                <a href="{% url 'all_products' %}">
                    <img src="{% static 'img/bnnr1.webp' %}" class="d-block w-100 " alt="Slide 1">
                </a>
            </div>
            <div class="carousel-item mb-3" data-bs-interval="3000">
                <a href="{% url 'all_products' %}">
                    <img src="{% static 'img/bnnr2.webp' %}" class="d-block w-100 " alt="Slide 1">
                </a>
            </div>
            <div class="carousel-item mb-3" data-bs-interval="3000">
                <a href="{% url 'all_products' %}">
                    <img src="{% static 'img/bnnr3.webp' %}" class="d-block w-100 " alt="Slide 1">
                </a>
            </div>
            <div class="carousel-item mb-3" data-bs-interval="3000">
                <a href="{% url 'all_products' %}">
                    <img src="{% static 'img/pcbanner.webp' %}" class="d-block w-100 " alt="Slide 2">
                </a>
            </div>
            <div class="carousel-item mb-3" data-bs-interval="3000">
                <a href="{% url 'all_products' %}">
                    <img src="{% static 'img/iphonebanner.webp' %}" class="d-block w-100 " alt="Slide 3">
                </a>
            </div>
            <div class="carousel-item mb-3" data-bs-interval="3000">
                <a href="{% url 'all_products' %}">
                    <img src="{% static 'img/headphonebanner.jpg' %}" class="d-block w-100 " alt="Slide 4">
                </a>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>



<!-- forosh vizhe -->

<div class="container mt-1 shadow  rounded-5">

    <div class="row gx-1">
        <a href="{% url 'Discounted' %}" class="col-12 mt-1">
            <img class="img-fluid rounded-5 d-none d-md-block" src="{% static 'products/img/off.png' %}" alt="">
        </a>
        
        {% for product in sale %}
        <div class="col-12 col-md-3 border border-2 p-2 rounded-4  mt-3 mb-3 ms-1">
            <a href="{% url 'product_detail' product.pk %}">
                <div class="rounded-5">
                    <div class="bg-white">
                        <div class="text-light text-center fw-bold color1">تخفیف</div>

                        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="d-block w-100 ">
                        <div class="overflow-hidden">
                            <p class="text-black text-start fw-bold mt-2 mb-1"><span class="bi bi-box text-color1 mt-1 mx-1"></span>{{product.name}}</p>
                            <hr class="shadow"></hr>
                            <p class="text-end text-colorforbuyLow mb-0"><s>{{product.price}} تومان </s></p>
                            <p class="text-end text-color1 fw-bold mb-0">{{product.sale_price}} تومان </p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
  

<!-- PRODUCTS -->
<div class="container mt-3  shadow border border-1 rounded-4 ">
    <!-- HEAD PIC OF ALL PRODUCTS -->
    <div class="row p-1">
        <a href="{% url 'all_products' %}" class="col-12">
            <img class="img-fluid rounded-5 d-none d-md-block w-100" src="{% static 'products/img/kala.png' %}" alt="">
        </a>
        <a href="{% url 'all_products' %}" class="col-12">
            <img class="img-fluid rounded-4 d-block d-md-none w-100" style="height: 30px;" src="{% static 'products/img/kala.png' %}" alt="">
        </a>

        <!-- BOX ALL PRODUCTS -->
        {% for product in products %}
        <div class="col-6 col-md-3  border border-2 p-2 rounded-4  mt-3 mb-3 position-relative">
            <a href="{% url 'product_detail' product.pk %}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="d-block w-100 ">
                <div class="product-info "> <!-- Added padding to the product info -->
                    <p class="text-black text-start fw-bold mt-1">
                       <small>
                           <span class="bi bi-box text-color1 text-start me-1 "></span>{{ product.name }}
                       </small>
                    </p>
                   
<br>
                    <div class="d-flex align-items-end flex-column position-absolute p-2 mt-2" style="bottom: 0; left: 0; padding: 10px;">
                        <hr class="shadow"></br></hr>
                        {% if product.in_sale %}
                        <small>
                            <small>
                                <p class="text-end text-colorforbuyLow mb-0"><s>{{product.price}} تومان </s></p>
                            </small>
                        </small>   
                        <small>

                            <p class="text-end text-color1 fw-bold mb-0">{{product.sale_price}} تومان </p>
                        </small>

                        {% else %}   
                        <small>

                            <p class="text-end text-color1 fw-bold mb-0">{{ product.price }} <small>تومان</small></p>
                        </small>               

                        {% endif %}
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>




{% endblock %}